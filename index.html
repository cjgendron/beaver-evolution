<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>hello phaser!</title>
        <script src="assets/js/phaser.min.js"></script>
        <script src="assets/src/board.js"></script>
        <script src="assets/src/disaster.js"></script>
        <script src="assets/src/taskbar.js"></script>
    </head>
    <body>
        Welcome to Beaver Evolution!
        <br><br>

    <script type="text/javascript">

    window.onload = function() {

        var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create });
        game.state.add('disasterScreen', disaster_screen);

        function preload () {

            game.load.image("test_image", "assets/images/phaser.png");
            game.load.spritesheet('build', 'assets/buttons/button_sprite_sheet.png', 193, 71);
            game.load.image("green", "assets/images/green.png");
            game.load.image("green_brown", "assets/images/green_brown.png");

            game.load.image("basic_hex_sprite_land", "/assets/images/basic_hex_sprite_land.png", 42, 48);
            game.load.image("basic_hex_sprite_water", "/assets/images/basic_hex_sprite_water.png", 42, 48);
            game.load.image("basic_hex_sprite_dam", "/assets/images/basic_hex_sprite_dam.png", 42, 48);

        }

        function create () {


            var board = new Board(game);

            game.getBoard = function() {
                return board;
            }

            // TODO: implement some callback to handle board clicks (mainly for adding dams;)
            game.boardCallbackHandler = function (obj) {
                console.log(obj);
            };

<<<<<<< HEAD
            // var board = new Board(game);
            var disasterScreen = new disaster_screen(game);
=======
            var board = new Board(game);
            var taskbar = new Taskbar(game);
>>>>>>> 4be0aa318fbbb74520ac5a6459982f3b75e513d9

            

            //game.input.onDown.add(board.handleMouseClick, this);



            var button = game.add.button(0, 0, 'button', disasterAction, this);

        }

        function disasterAction() {
            game.state.start('disasterScreen');   
            console.log("woot");        
        }

    };

    </script>

    </body>
</html>
